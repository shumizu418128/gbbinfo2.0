<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="UTF-8" />
    <title>{% block title %}{% endblock %}</title>
    <meta name="description" content="Swissbeatboxが主催するHuman Beatboxの世界大会「Grand Beatbox Battle」の各種情報を、日本語に翻訳し見やすくまとめたサイトです。">
    <link rel="stylesheet" href="/static/css/style.css" />
    <link rel="stylesheet" href="/static/css/button.css" />
    <link rel="stylesheet" href="/static/css/dropdown.css" />
    <link rel="stylesheet" href="/static/css/table.css" />
    <link rel="stylesheet" href="/static/css/popup.css" />
    <link rel="stylesheet" href="/static/css/search.css" />
    <link rel="canonical" href={% block canonical %}{% endblock %}>
    <meta name="twitter:title" content={% block twitter_title %}{% endblock %} />
    <meta name="twitter:description" content="Swissbeatboxが主催するHuman Beatboxの世界大会「Grand Beatbox Battle」の各種情報を、日本語に翻訳し見やすくまとめたサイトです。" />
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:image" content="https://gbbinfo-jpn.onrender.com/static/images/background.webp" />
    <meta property="og:title" content={% block og_title %}{% endblock %} />
    <meta property="og:description" content="Swissbeatboxが主催するHuman Beatboxの世界大会「Grand Beatbox Battle」の各種情報を、日本語に翻訳し見やすくまとめたサイトです。" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content={% block og_url %}{% endblock %} />
    <meta property="og:image" content="https://gbbinfo-jpn.onrender.com/static/images/background.webp" />
    <meta property="og:image:secure_url" content="https://gbbinfo-jpn.onrender.com/static/images/background.webp" />
    <meta property="og:site_name" content="GBBINFO-JPN" />
    <meta property="og:locale" content="ja_JP" />
    <meta name="theme-color" content="#F0632F" />
    <link
      rel="icon"
      href="{{ url_for('static', filename='favicon.ico') }}"
      type="image/x-icon"
    />
    <link
      rel="shortcut icon"
      href="{{ url_for('static', filename='favicon.ico') }}"
      type="image/x-icon"
    />
    <link rel="manifest" href="/manifest.json" />
    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", function () {
          navigator.serviceWorker.register("/service-worker.js").then(
            function (registration) {
              console.log(
                "ServiceWorkerが正常に登録されました: ",
                registration.scope
              );
            },
            function (err) {
              console.log("ServiceWorkerの登録に失敗しました: ", err);
            }
          );
        });
      }
    </script>
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-YWXGGR0MST"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-YWXGGR0MST");
    </script>

    {% block head %}{% endblock %}
  </head>
  <body>
    <header>
      <nav>
        <img src="/static/images/header.webp" alt="ヘッダー" />
        <ul>
          <a class="menu-link" href="/{{year}}/top"><li>トップ/これだけガイド</li></a>
          <a class="menu-link" href="/{{year}}/rule"><li>ルール</li></a>
          <a class="menu-link" href="/{{year}}/participants"><li>Wildcard結果&出場者</li></a>
          <a class="menu-link" href="/{{year}}/result"><li>大会結果</li></a>
          <div class="past_gbb_wrap">
            <li>
              過去のGBB
              <ul class="past_gbb_lists">
                {% for y in available_years|reverse %}
                  <a href="/{{ y }}/top"><li class="past_gbb">GBB {{ y }}</li></a>
                {% endfor %}
              </ul>
            </li>
          </div>
        </ul>
      </nav>
    </header>
    <main>
      {% if is_latest_year is false %}

        <script src="/static/scripts/popup.js"></script>
        <div class="overlay" onclick="closePopup()"></div>
        <div class="popup">
          <p style="text-align: center; font-size: 36px; font-weight: bold;">☆<br>GBB{{ year }}は<br>終了しました<br>☆</p>
          <p style="text-align: center;">ここは、すでに終了したGBB{{ year }}のページです</p>
            <div class="button-container">
              <a href="/"><button type="button">GBB最新情報はこちら</button></a>
            </div><br>
            <button type="button" onclick="closePopup()">閉じる</button>
        </div>

        <p style="text-align: center; font-size: 36px; font-weight: bold;">GBB{{ year }}は<br>終了しました</p>
        <p style="text-align: center;">ここは、すでに終了したGBB{{ year }}のページです</p>
        <div class="button-container">
          <a href="/"><button type="button">GBB最新情報はこちら</button></a>
        </div>
      <hr>
      {% endif %}

      {% block content %}{% endblock %}

      {% if is_latest_year is false %}
        <hr>
        <h3>GBB{{ year }} なんでも検索</h3>
        <p style="text-align: center;">GBB{{ year }}の検索のみ可能です<br>GBB{{ year }}は終了しました</p>
        <form id="searchForm" class="search-form-1" action="/{{ year }}/search">
          <input type="text" name="question" id="question" placeholder="例：GBB{{ year }}の最終結果は？" required>
          <button type="submit" aria-label="検索"></button>
        </form>
        <div class="button-container" style="margin-top: 4px;">
          <a href="/"><button type="button">GBB最新情報の検索はこちら</button></a>
        </div>
        <hr>
      {% else %}
        <!-- 最新年度の場合、フォームがページ内に2つ存在することがあるため、idを分ける -->
        <h2>GBB {{ year }} なんでも検索</h2>
        <p style="text-align: center;">気になることを検索してみよう<br>文章で具体的に書くといいかも？</p>
        <form id="searchForm2" class="search-form-1" action="/{{ year }}/search">
          <input type="text" name="question" id="question2" placeholder="例：今年の出場者は？" required>
          <button type="submit" aria-label="検索"></button>
        </form>
      {% endif %}

      <div id="loading" class="loading"></div>

      <br />
      {% if is_latest_year is false %}
        <p style="text-align: center; font-size: 36px; font-weight: bold;">GBB{{ year }}は<br>終了しました</p>
        <p style="text-align: center;">ここは、すでに終了したGBB{{ year }}のページです</p>
        <div class="button-container">
          <a href="/"><button type="button">GBB最新情報はこちら</button></a>
        </div>
        <br />
      {% endif %}

      <div class="button-container">
        <button id="installButton" class="button_top" style="visibility: hidden;">ホーム画面に追加</button>
      </div>
      <p>
        GBBINFO-JPNはPWAに対応しています。<br />ブラウザメニューを開き、「ホーム画面に追加」をタップすると、アプリとしてインストールできます。
      </p>

      <hr />

      <p style="text-align: center">GBB 2024まであと...</p>
      <p id="countdown" style="text-align: center; font-size: 24px"></p>

      <div class="button-container">
        <a href="/{{year}}/top"><button type="button" style="width: 100%;">トップへ戻る<br>これだけガイド</button></a>
      </div>
      <div class="button-container" style="margin-top: 4px;">
        <a href="/{{year}}/rule"><button type="button">{{year}}ルール</button></a>
        <a href="/{{year}}/participants"><button type="button">{{year}}出場者</button></a>
      </div>
      <ul>
        {% for y in available_years|reverse %}
          <li><a href="/{{ y }}/top">GBB {{ y }}</a></li>
        {% endfor %}
      </ul>
      <a href="https://qiita.com/tari3210/items/0561e91774863d165af0" target="_blank" rel="noopener noreferrer">GBBINFO-JPNの設計図</a>
      <br>
      <a href="https://twitter.com/tari_3210_" target="_blank" rel="noopener noreferrer">tari3210 Twitter</a>
      <br>
      <a href="/others/about">GBBINFO-JPNについて</a>

      <footer>
        <p>
          GBBINFO-JPN 2.0<br />UNofficial website made by tari3210<br />NOT
          swissbeatbox
        </p>
        <p>
          <span id="last-deploy-hash">loading...</span>
        </p>
      </footer>
    </main>

    <script src="/static/scripts/scroll.js"></script>
    <script src="/static/scripts/last_modify.js"></script>
    <script src="/static/scripts/countdown.js"></script>
    <script src="/static/scripts/install.js"></script>
    <script src="/static/scripts/search.js"></script>

  </body>
</html>
